<mat-toolbar color="primary">
  <mat-icon style="margin-right: 12px;">analytics</mat-icon>
  <span>{{ title() }}</span>
</mat-toolbar>

<main class="app-container">
  <div class="content-area">
    <!-- User Intent Card -->
    @if (userIntent()) {
    <div class="intent-section">
      <mat-card class="intent-card">
        <mat-card-header>
          <div mat-card-avatar class="intent-avatar">
            <mat-icon>psychology</mat-icon>
          </div>
          <mat-card-title>User Intent</mat-card-title>
          <mat-card-subtitle>Recognized goal from your prompt</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p class="intent-text">"{{ userIntent() }}"</p>
        </mat-card-content>
        @if (isLoading()) {
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        }
      </mat-card>
    </div>
    } @else {
    <div class="welcome-section">
      <h1>Welcome to PCA Assistant</h1>
      <p>Type your visualization request below to start.</p>
    </div>
    }

    <!-- Result Area (Plot Container) -->
    @if (plotResult()) {
    <div class="result-section">
      <app-plot-container [data]="plotResult()!.data" [layout]="plotResult()!.layout">
      </app-plot-container>
    </div>
    }
  </div>

  <!-- Chat Input Component -->
  <div class="input-area">
    <app-chat-input (send)="handleMessage($event)"></app-chat-input>
  </div>
</main>